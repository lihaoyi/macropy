sudo: false
dist: trusty
language: python
cache: pip
python:
  - '2.7'
  - pypy-5.7.1

install: pip install .[pinq,js_snippets]

script:
  - |
      if [[ "$TRAVIS_PYTHON_VERSION" == "pypy"* ]]; then
        python --jit disable_unrolling=0 run_tests.py
      else
        python run_tests.py
      fi
matrix:
  fast_finish: true
